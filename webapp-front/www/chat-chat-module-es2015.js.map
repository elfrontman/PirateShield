{"version":3,"sources":["./src/app/chat/chat.page.html","./src/app/chat/modal-image/modal-image.component.html","./src/app/chat/CompressImage.ts","./src/app/chat/chat.module.ts","./src/app/chat/chat.page.scss","./src/app/chat/chat.page.ts","./src/app/chat/modal-image/modal-image.component.scss","./src/app/chat/modal-image/modal-image.component.ts","./src/app/main-services.service.ts"],"names":[],"mappings":"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","file":"chat-chat-module-es2015.js","sourcesContent":["module.exports = \"<app-modal-image\\n  *ngIf=\\\"modalImage\\\"\\n  [image]=\\\"imageSelected\\\"\\n  (close)=\\\"modalImage=false; imageSelected=null\\\"\\n  ></app-modal-image>\\n<ion-header>\\n\\t<ion-toolbar color=\\\"primary\\\">\\n\\t\\t<ion-grid>\\n\\t\\t\\t<ion-row align-items-center>\\n\\t\\t\\t\\t<ion-col size=\\\"2\\\">\\n\\t\\t\\t\\t\\t<ion-buttons routerLink=\\\"/brands\\\">\\n\\t\\t\\t\\t\\t\\t<ion-button>\\n\\t\\t\\t\\t\\t\\t\\t<img class=\\\"icon-svg\\\" src=\\\"./assets/images/back.svg\\\">\\n\\t\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t\\t</ion-buttons>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col size=\\\"8\\\">\\n\\t\\t\\t\\t\\t<ion-title>CHAT</ion-title>\\t\\t\\t\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col size=\\\"2\\\">\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t</ion-grid>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content #chatview>\\n\\t\\n\\t<ion-grid>\\n    \\n    <ion-row *ngFor=\\\"let message of messages\\\">\\n \\n      <ion-col size=\\\"9\\\"  [ngClass]=\\\"message.sender != tokenUser ? 'my-message' : 'other-message'\\\" class=\\\"message\\\" [attr.offset] = \\\"message.sender == tokenUser ? '' : 3\\\">\\n      \\t\\n        <div class=\\\"username\\\" text-right>{{ message.user_name }}</div>\\n\\n      \\t<div [ngSwitch]=\\\"message.type\\\">\\n      \\t\\t<span *ngSwitchCase=\\\"'text'\\\">{{ message.message }}</span>\\t\\n      \\t\\t<img *ngSwitchCase=\\\"'image'\\\" [src]=\\\"message.message\\\" (click)=\\\"showImage(message.message)\\\"/>\\n      \\t</div>\\n        \\n        <div class=\\\"time\\\" text-right>{{ message.createdAt | date:'short' }}</div>\\n      </ion-col>\\n \\n    </ion-row>\\n  </ion-grid>\\n\\t\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar color=\\\"light\\\">\\n    <ion-row align-items-center>\\n      <ion-col size=\\\"8\\\">\\n        <ion-textarea auto-grow class=\\\"message-input\\\" rows=\\\"1\\\" [(ngModel)]=\\\"message\\\"></ion-textarea>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"primary\\\" class=\\\"msg-btn\\\"\\n          (click)=\\\"filechooser.click()\\\">\\n          <ion-icon name=\\\"ios-camera\\\" slot=\\\"icon-only\\\"></ion-icon>\\n          <input type=\\\"file\\\" #filechooser capture=\\\"camera\\\" hidden (change)=\\\"sendImageMessage(filechooser)\\\"/>\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"primary\\\" [disabled]=\\\"message === ''\\\" class=\\\"msg-btn\\\"\\n          (click)=\\\"sendMessage()\\\">\\n          <ion-icon name=\\\"ios-send\\\" slot=\\\"icon-only\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \"<div class=\\\"modal-image\\\">\\n  <a class=\\\"close\\\" (click)=\\\"closeView()\\\"><ion-icon name=\\\"md-close\\\" ></ion-icon></a>\\n  <img [src]=\\\"image\\\" alt=\\\"\\\">\\n</div>\"","export class CompressImage{\n\n\tprivate file;\n\tprivate MAX_IMAGE_SIZE_PROCESS;\n\tprivate MAX_HEIGHT;\n\tprivate reader;\n\tprivate type;\n\tprivate name;\n\n\tconstructor(file: File, max_size: number, prefix_name:string){\n\t\tthis.file = file;\n\t\tthis.MAX_IMAGE_SIZE_PROCESS = max_size;\n\t\tthis.type = this.file.type;\n\t\tthis.name = prefix_name +'_' + this.file.name;\n\t\tthis.reader = new FileReader();\n\n\t}\n\n\tgetImage() {\n\t\tvar _self = this;\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t_self.reader.onloadend = _self.loadEndReader.bind(_self, resolve, reject);\n\t\t\t_self.reader.readAsDataURL(_self.file);\n\t\t});\n\t};\n\n\tbase64ToArrayBuffer (base64) {\n\t\tbase64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n\t\tvar binaryString = atob(base64);\n\t\tvar len = binaryString.length;\n\t\tvar bytes = new Uint8Array(len);\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tbytes[i] = binaryString.charCodeAt(i);\n\t\t}\n\t\treturn bytes.buffer;\n\t}\n\n\tloadEndReader(resolve, reject) {\n\t\tvar tmpImage = new Image(),\n\t\t_self = this;\n\t\t\n\t\ttmpImage.onload = function(){\n\n\t\t\tvar _img = <HTMLImageElement>this;\n\t\t\tvar MAX_WIDTH = _self.MAX_IMAGE_SIZE_PROCESS,\n\t\t\tMAX_HEIGHT = _self.MAX_IMAGE_SIZE_PROCESS,\n\t\t\ttmpWidth = tmpImage.width,\n\t\t\ttmpHeight = tmpImage.height;\n\n\t\t\tif(tmpWidth > tmpHeight){\n\n\t\t\t\tif(tmpWidth > MAX_WIDTH){\n\t\t\t\t\ttmpHeight *= MAX_WIDTH / tmpWidth;\n\t\t\t\t\ttmpWidth = MAX_WIDTH;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(tmpHeight > MAX_HEIGHT){\n\t\t\t\t\ttmpWidth *= MAX_HEIGHT / tmpHeight;\n\t\t\t\t\ttmpHeight = MAX_HEIGHT;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar resizeCanvas = document.createElement('canvas');\n\t\t\tresizeCanvas.width = tmpWidth;\n\t\t\tresizeCanvas.height = tmpHeight;\n\t\t\tvar ctx = resizeCanvas.getContext('2d');\n\n\t\n\t\t\tctx.drawImage(_img, 0, 0, resizeCanvas.width, resizeCanvas.height);\n\n\t\t\tvar dataURL = resizeCanvas.toDataURL(_self.type);\n\t\t\tvar file = _self.dataURLtoBlob(dataURL);\n\n\t\t\tresolve(file);\n\n\t\t}\n\n\t\ttmpImage.onerror = function(err){\n\t\t\treject(err)\n\t\t}\n\n\n\t\ttmpImage.src = this.reader.result;\n\t}\n\n\tdataURLtoBlob(dataURL) {\n\t\tvar binary = atob(dataURL.split(',')[1]);\n\t\tvar array = [], length = binary.length;\n\n\t\tfor(var i = 0; i < length; i++){\n\t\t\tarray.push(binary.charCodeAt(i));\n\t\t}\n\n\t\tvar blob = new Blob([new Uint8Array(array)], {type: this.type});\n\t\treturn new File([blob], this.name, {type: this.type, lastModified: blob['lastModifiedDate']})\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPage } from './chat.page';\nimport { ModalImageComponent } from './modal-image/modal-image.component';\nimport { environment } from './../../environments/environment';\n\nimport { SocketIoModule, SocketIoConfig } from 'ngx-socket-io';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SocketIoModule.forRoot(environment.SoketIoConfig)\n  ],\n  declarations: [ChatPage, ModalImageComponent]\n})\nexport class ChatPageModule {}\n","module.exports = \".message {\\n  padding: 10px;\\n  border-radius: 10px;\\n  margin-bottom: 4px;\\n  white-space: pre-wrap;\\n}\\n\\n.my-message {\\n  background: #3880ff;\\n  color: #fff;\\n}\\n\\n.other-message {\\n  background: #e3e3e3;\\n  color: #333;\\n}\\n\\n.time {\\n  color: #dfdfdf;\\n  float: right;\\n  font-size: small;\\n}\\n\\n.username {\\n  display: block;\\n  text-align: left !important;\\n  font-weight: bold;\\n  font-style: italic;\\n  color: white;\\n  font-size: 0.9rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.other-message .time, .other-message .username {\\n  color: #333;\\n}\\n\\n.message-input {\\n  margin-top: 0px;\\n  background: #fff;\\n  min-height: 40px;\\n}\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em;\\n}\\n\\n.icon-svg {\\n  width: 30px;\\n  height: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvUGlyYXRlU2hpZWxkL3dlYmFwcC1mcm9udC9zcmMvYXBwL2NoYXQvY2hhdC5wYWdlLnNjc3MiLCJzcmMvYXBwL2NoYXQvY2hhdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxtQkFBQTtFQUNBLFdBQUE7QUNDRjs7QURFQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLDJCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FESUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0RGOztBRElBO0VBQ0Usc0JBQUE7RUFDQSxvQkFBQTtBQ0RGOztBRElBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNERiIsImZpbGUiOiJzcmMvYXBwL2NoYXQvY2hhdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWVzc2FnZSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4ubXktbWVzc2FnZSB7XG4gIGJhY2tncm91bmQ6ICMzODgwZmY7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ub3RoZXItbWVzc2FnZSB7XG4gIGJhY2tncm91bmQ6ICNlM2UzZTM7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4udGltZSB7XG4gIGNvbG9yOiAjZGZkZmRmO1xuICBmbG9hdDogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbi51c2VybmFtZXtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDAuOXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xufVxuXG4ub3RoZXItbWVzc2FnZSAudGltZSwgLm90aGVyLW1lc3NhZ2UgLnVzZXJuYW1le1xuICBjb2xvcjogIzMzMztcbn1cblxuXG5cbi5tZXNzYWdlLWlucHV0IHtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xuICBtaW4taGVpZ2h0OiA0MHB4O1xufVxuXG4ubXNnLWJ0biB7XG4gIC0tcGFkZGluZy1zdGFydDogMC41ZW07XG4gIC0tcGFkZGluZy1lbmQ6IDAuNWVtO1xufVxuXG4uaWNvbi1zdmd7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG59XG4iLCIubWVzc2FnZSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4ubXktbWVzc2FnZSB7XG4gIGJhY2tncm91bmQ6ICMzODgwZmY7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ub3RoZXItbWVzc2FnZSB7XG4gIGJhY2tncm91bmQ6ICNlM2UzZTM7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4udGltZSB7XG4gIGNvbG9yOiAjZGZkZmRmO1xuICBmbG9hdDogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbi51c2VybmFtZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAwLjlyZW07XG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbn1cblxuLm90aGVyLW1lc3NhZ2UgLnRpbWUsIC5vdGhlci1tZXNzYWdlIC51c2VybmFtZSB7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4ubWVzc2FnZS1pbnB1dCB7XG4gIG1hcmdpbi10b3A6IDBweDtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgbWluLWhlaWdodDogNDBweDtcbn1cblxuLm1zZy1idG4ge1xuICAtLXBhZGRpbmctc3RhcnQ6IDAuNWVtO1xuICAtLXBhZGRpbmctZW5kOiAwLjVlbTtcbn1cblxuLmljb24tc3ZnIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGhlaWdodDogMzBweDtcbn0iXX0= */\"","import { Component, OnInit, AfterViewChecked, ViewChild, ElementRef } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { MainServicesService } from '../main-services.service';\nimport { CompressImage } from './CompressImage';\n\n@Component({\n\tselector: 'app-chat',\n\ttemplateUrl: './chat.page.html',\n\tstyleUrls: ['./chat.page.scss'],\n})\nexport class ChatPage implements OnInit, AfterViewChecked {\n\n\t@ViewChild('chatview', {static: false}) private chatview: any;\n\n\n\tmessage = '';\n\tusername;\n\tmessages:any = [];\n\ttokenUser = '';\n\ttokenOP;\n\tmodalImage = false;\n\timageSelected;\n\n\tconstructor(private socket: Socket, private service: MainServicesService) { }\n\n\tngAfterViewChecked(){\n\t\t//this.scrollBottom();\n\t}\n\n\tshowImage(image) {\n\t\tthis.imageSelected = image;\n\t\tthis.modalImage = true;\n\t}\n\n\tngOnInit() {\n\t\tthis.username = localStorage.getItem('user_name')\n\t\tthis.socket.connect();\n\n\t\tthis.socket.fromEvent('chat-token').subscribe( (token:any) => {\n\n\t\t\tthis.tokenUser = this.service.getUserId()\n\t\t\tthis.tokenOP = localStorage.getItem('token')\n\t\t\tthis.socket.emit('create', this.tokenUser)\n\n\t\t\tthis.service.getChat(this.tokenUser)\n\t\t\t\t.subscribe( data => {\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tthis.messages = data;\n\t\t\t\t\tthis.scrollBottom();\n\t\t\t\t})\n\t\t})\n\n\t\tthis.socket.fromEvent('received').subscribe( message => {\n\t\t\tthis.messages.push(message)\n\t\t\tthis.scrollBottom();\n\t\t})\n\n\t}\n\n\tsendMessage(){\n\t\tconst msg = {\n\t\t\tmessage: this.message,\n\t\t\tsender: Number(this.service.getUserId()),\n\t\t\treceiver: 1,\n\t\t\ttype: \"text\",\n\t\t\tuser_sender: this.username,\n\t\t\tuser_receiver: \"Admin\",\n\t\t\tchat_id: this.tokenUser,\n\t\t\toperativo: this.tokenOP,\n\t\t\tcreatedAt: new Date()\n\t\t}\n\n\t\tconsole.log(msg)\n\n\t\tthis.socket.emit('send-message', msg)\n\t\tthis.messages.push(msg)\n\t\tthis.message = '';\n\t\tthis.scrollBottom();\n\t}\n\n\tsendImageMessage(file_input){\n\n\t\tconst compress = new CompressImage(file_input.files[0], 1024, null);\n\n\t\tcompress.getImage().then( f => {\n\t\t\tvar reader = new FileReader();\n\t\t\t  reader.onloadend = (e) => {\n\n\t\t\t\tconst msg = {\n\t\t\t\t\tmessage: reader.result,\n\t\t\t\t\tsender: Number(this.service.getUserId()),\n\t\t\t\t\treceiver: 1,\n\t\t\t\t\ttype: 'image',\n\t\t\t\t\tuser_sender: this.username,\n\t\t\t\t\tuser_receiver: \"Admin\",\n\t\t\t\t\tchat_id: this.tokenUser,\n\t\t\t\t\toperativo: this.tokenOP,\n\t\t\t\t\tcreatedAt: new Date()\n\t\t\t\t}\n\n\t\t\t\tthis.socket.emit('send-message', msg)\n\t\t\t\tthis.messages.push(msg)\n\t\t\t\tthis.scrollBottom();\n\n\t\t\t  };\n\t\t\t  reader.readAsDataURL(<Blob>f);\n\t\t\t});\n\n\t\t\n\t}\n\n\tionViewWillLeave(){\n\t\tthis.socket.disconnect();\n\t}\n\n\tscrollBottom(){\n\t\ttry{\n\t\t\tsetTimeout( _ => {\n\t\t\t\tthis.chatview.el.scrollToBottom(0)\t\t\t\t\n\t\t\t})\n\t\t\t\n\t\t}catch(err){ console.log(err) }\n\t}\n\n}\n","module.exports = \".modal-image {\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n  z-index: 999;\\n  background: #272727;\\n}\\n.modal-image .close {\\n  color: white;\\n  font-size: 4rem;\\n  position: absolute;\\n  right: 20px;\\n  z-index: 2;\\n}\\n.modal-image img {\\n  height: 100%;\\n  position: absolute;\\n  right: 50%;\\n  bottom: 50%;\\n  -webkit-transform: translate(50%, 50%);\\n          transform: translate(50%, 50%);\\n  width: 100%;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvUGlyYXRlU2hpZWxkL3dlYmFwcC1mcm9udC9zcmMvYXBwL2NoYXQvbW9kYWwtaW1hZ2UvbW9kYWwtaW1hZ2UuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NoYXQvbW9kYWwtaW1hZ2UvbW9kYWwtaW1hZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxPQUFBO0VBQ0EsTUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQ0NKO0FEQ0k7RUFDSSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7QUNDUjtBREVJO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxzQ0FBQTtVQUFBLDhCQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7QUNBUiIsImZpbGUiOiJzcmMvYXBwL2NoYXQvbW9kYWwtaW1hZ2UvbW9kYWwtaW1hZ2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubW9kYWwtaW1hZ2V7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBsZWZ0OiAwO1xuICAgIHRvcDogMDtcbiAgICB6LWluZGV4OiA5OTk7XG4gICAgYmFja2dyb3VuZDogIzI3MjcyNztcblxuICAgIC5jbG9zZXtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDRyZW07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgIHotaW5kZXg6IDI7XG4gICAgfVxuXG4gICAgaW1ne1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgcmlnaHQ6IDUwJTtcbiAgICAgICAgYm90dG9tOiA1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDUwJSwgNTAlKTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgfVxufSIsIi5tb2RhbC1pbWFnZSB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB6LWluZGV4OiA5OTk7XG4gIGJhY2tncm91bmQ6ICMyNzI3Mjc7XG59XG4ubW9kYWwtaW1hZ2UgLmNsb3NlIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDRyZW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDIwcHg7XG4gIHotaW5kZXg6IDI7XG59XG4ubW9kYWwtaW1hZ2UgaW1nIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiA1MCU7XG4gIGJvdHRvbTogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSg1MCUsIDUwJSk7XG4gIHdpZHRoOiAxMDAlO1xuICBvYmplY3QtZml0OiBjb250YWluO1xufSJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-modal-image',\n  templateUrl: './modal-image.component.html',\n  styleUrls: ['./modal-image.component.scss'],\n})\nexport class ModalImageComponent implements OnInit {\n\n  @Input() image;\n  @Output() close = new EventEmitter();\n\n  constructor() { }\n\n  closeView() {\n    this.close.emit(true);\n  }\n  ngOnInit() {}\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../environments/environment';\n\n\nimport {map} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MainServicesService {\n\n  headers;\n  ip_client;\n  session_id;\n  chat_id;\n  user_id;\n\n  constructor(private http: HttpClient) { \n\n  }\n\n  getChatId(){\n    if(!this.chat_id){\n      this.chat_id = sessionStorage.getItem('chat_id');\n    }\n    return this.chat_id;\n  }\n\n  setChatId(chat_id){\n    sessionStorage.setItem('chat_id', chat_id);\n    this.chat_id = chat_id\n  }\n\n  getUserId(){\n    if(!this.user_id){\n      this.user_id = sessionStorage.getItem('user_id');\n    }\n    return this.user_id;\n  }\n\n  setUserId(user_id){\n    sessionStorage.setItem('user_id', user_id);\n    this.user_id = user_id\n  }\n\n  getIpClient(){\n    return this.ip_client;\n  }\n\n  setIpClient(ip){\n    this.ip_client = ip;\n  }\n\n  getSessionId(){\n    if(sessionStorage.getItem('session_id')){\n      this.session_id = sessionStorage.getItem('session_id');\n    }\n\n    return this.session_id;\n  }\n\n  setSessionId(session_id){\n    sessionStorage.setItem('session_id', session_id)\n    this.session_id = session_id;\n  }\n\n  getCookie(name) {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + name + \"=\");\n    if (parts.length == 2) \n      return parts.pop().split(\";\").shift();\n  }\n\n  getFileURL(url){\n    return environment.STATIC_URL + '/files/' + url\n  }\n\n  service(url, data){\n    this.headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    })\n\n    const token = localStorage.getItem('token');\n    const formData = new FormData()\n    formData.append('token', token);\n\n    for(let field of Object.keys(data)){\n      formData.append(field, data[field]);\n    }\n\n\n    return this.http.post(environment.API_URL + url, {'token': token}, {headers: this.headers})\n    .pipe(map(response => response))\n  }\n\n  requestSecure(url, formData = {}){\n\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      'Authorization': `token ${this.getSessionId()}`\n    })\n\n    return this.http.get(environment.API_URL + url, {headers: headers}).pipe( map(response => response) )   \n  }\n\n  getBrands(){\n    const token = localStorage.getItem('token');\n\n    return this.http.get(environment.API_URL + '/brands/?token='+token)\t\n    .pipe( map(response => response) )\n  }\n\n  getBrandById(id_brand){\n    const token = localStorage.getItem('token');\n\n    return this.http.get(environment.API_URL + '/brands/' + id_brand +'/?token='+token)\t\n    .pipe( map(response => response) )\t\n  }\n\n  getProductsByBrand(id_brand){\n    const token = localStorage.getItem('token');\n\n    return this.http.get(environment.API_URL + '/productbybrand/?search=' + id_brand+'&token='+token)\t\n    .pipe( map(response => response) )\t\n  }\n\n  getProduct(id_product){\n    return this.http.get(environment.API_URL + '/product/?search=' + id_product)  \n    .pipe( map(response => response) )  \n  }\n\n  getDetailMarkerProduct(id_marker){\n    return this.http.get(environment.API_URL + '/markerproduct/?search=' + id_marker)  \n    .pipe( map(response => response) )  \n  }\n\n  getCategoriesBrand(){\n    return this.http.get(environment.API_URL + '/categories_brand/')  \n    .pipe( map(response => response) )  \n  }\n\n\n  loginToken(token, user_name){\n    // this.headers = new HttpHeaders({\n    //   'Content-Type': 'application/json',\n    //   'Accept': 'application/json',\n    //   'X-CSRFToken': this.getCookie('csrftoken')\n\n    // })\n\n    console.log(this.getCookie('csrftoken'))\n\n    localStorage.setItem('token', token);\n    localStorage.setItem('user_name', user_name);\n\n    return this.http.post(environment.API_URL + '/login_app/', {'token': token, 'user_name': user_name})\n    .pipe(map(response => response))\n  }\n\n\n  logOut(){\n    return this.http.get(environment.API_URL + '/logout/')  \n    .pipe( map(response => response) )  \n  }\n\n  setTokentChat(token_chat){\n    this.headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      'X-CSRFToken': this.getCookie('csrftoken')\n    })\n\n    const token = localStorage.getItem('token')\n    \n\n    return this.http.post(environment.API_URL + '/token_chat/', {'token_chat': token_chat, 'token': token})\n    .pipe(map(response => response))\n\n  }\n\n  getChat(token_chat){\n    return this.http.get(environment.SoketIoConfig.url + '/chat_all/'+token_chat)  \n    .pipe( map(response => response) )\n  }\n}\n"],"sourceRoot":""}