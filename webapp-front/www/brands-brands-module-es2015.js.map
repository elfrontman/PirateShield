{"version":3,"sources":["./src/app/brands/brands.page.html","./src/app/brands/brands.module.ts","./src/app/brands/brands.page.scss","./src/app/brands/brands.page.ts"],"names":[],"mappings":"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","file":"brands-brands-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n\\t<ion-toolbar color=\\\"primary\\\">\\n\\t\\t<ion-title>BIENVENIDO</ion-title>\\n\\t\\t<ion-buttons routerLink=\\\"/brands\\\" slot=\\\"end\\\">\\n\\t\\t\\t<ion-button (click)=\\\"alertLogout()\\\">\\n\\t\\t\\t\\t<img class=\\\"icon-svg\\\" src=\\\"./assets/images/user_logout.svg\\\">\\n\\t\\t\\t</ion-button>\\n\\t\\t</ion-buttons>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<div class=\\\"filters\\\">\\n\\t\\t<ion-grid>\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col size=\\\"7\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"content-input icon-input\\\">\\n\\t\\t\\t\\t\\t\\t<ion-input placeholder=\\\"Buscar\\\" [(ngModel)]=\\\"filter_name\\\" (ngModelChange)=\\\"filterName()\\\"></ion-input>\\n\\t\\t\\t\\t\\t\\t<img src=\\\"assets/images/buscar.svg\\\" alt=\\\"\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t<div class=\\\"content-input\\\">\\n\\t\\t\\t\\t\\t\\t<ion-select [(ngModel)]=\\\"filter_categories\\\" (ngModelChange)=\\\"filterCategories()\\\"\\n\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Categorias\\\" multiple=\\\"true\\\" interface=\\\"popover\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-select-option *ngFor=\\\"let cat of categories\\\" [value]=\\\"cat.id\\\">{{ cat.name }}\\n\\t\\t\\t\\t\\t\\t\\t</ion-select-option>\\n\\t\\t\\t\\t\\t\\t</ion-select>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t</ion-grid>\\n\\t</div>\\n\\n\\t<div class=\\\"not-found-records\\\" *ngIf=\\\"filter_brands && filter_brands.length <= 0\\\">No hay registros disponibles</div>\\n\\n\\t<ion-list>\\n\\t\\t<ng-container *ngFor=\\\"let brand of filter_brands\\\">\\n\\t\\t\\t<ion-item class=\\\"orange-arrow\\\" lines=\\\"full\\\" routerLink=\\\"/brand/{{brand.id}}\\\">\\n\\t\\t\\t\\t<ion-thumbnail slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t<img [src]=\\\"brand.logo\\\">\\n\\t\\t\\t\\t</ion-thumbnail>\\n\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t<h2>{{ brand.name }}</h2>\\n\\t\\t\\t\\t\\t<h3>{{ brand.brand_category_id.name }}</h3>\\n\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t<img src=\\\"./assets/images/arrow_item.svg\\\" class=\\\"icon-svg\\\">\\n\\t\\t\\t</ion-item>\\n\\t\\t\\t<ng-container *ngIf=\\\"filter_name\\\">\\n\\t\\t\\t\\t<ion-item *ngFor=\\\"let product of brand.products\\\" class=\\\"orange-arrow sublist\\\" lines=\\\"full\\\" routerLink=\\\"/product/{{product.id}}\\\">\\n\\t\\t\\t\\t\\t<ion-thumbnail slot=\\\"start\\\">\\n\\t\\t\\t\\t\\t\\t<img [src]=\\\"product.image\\\">\\n\\t\\t\\t\\t\\t</ion-thumbnail>\\n\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t<h2>{{ product.name }}</h2>\\n\\t\\t\\t\\t\\t\\t<h3>REF: {{ product.reference }}</h3>\\n\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t</ng-container>\\n\\n\\t\\t</ng-container>\\n\\n\\t</ion-list>\\n\\n</ion-content>\\n\\n<app-footer></app-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BrandsPage } from './brands.page';\nimport { SharedModule } from './../shared/shared.module';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BrandsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    SharedModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BrandsPage]\n})\nexport class BrandsPageModule {}\n","module.exports = \"ion-thumbnail {\\n  width: 80px;\\n  height: 80px;\\n  border-radius: 50%;\\n  overflow: hidden;\\n  margin: 0.5rem 1rem 0.5rem 0rem;\\n}\\n\\nion-title {\\n  text-align: center;\\n  font-weight: bold;\\n  font-size: 1rem;\\n}\\n\\n.icon-svg {\\n  height: 22px;\\n}\\n\\n.filters {\\n  margin-bottom: 1rem;\\n}\\n\\n.not-found-records {\\n  text-align: center;\\n  color: #bdbdbd;\\n}\\n\\n.sublist {\\n  --ion-background-color:#f9f9f9;\\n}\\n\\n.sublist ion-thumbnail {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  overflow: hidden;\\n  margin: 0.5rem 1rem 0.5rem 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvUGlyYXRlU2hpZWxkL3dlYmFwcC1mcm9udC9zcmMvYXBwL2JyYW5kcy9icmFuZHMucGFnZS5zY3NzIiwic3JjL2FwcC9icmFuZHMvYnJhbmRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDRyxnQkFBQTtFQUNBLCtCQUFBO0FDQ0o7O0FER0E7RUFDQyxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtBQ0FEOztBREdBO0VBQ0MsWUFBQTtBQ0FEOztBRElBO0VBQ0MsbUJBQUE7QUNERDs7QURJQTtFQUNDLGtCQUFBO0VBQ0csY0FBQTtBQ0RKOztBRElBO0VBQ0MsOEJBQUE7QUNERDs7QURHQztFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLCtCQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9icmFuZHMvYnJhbmRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10aHVtYm5haWx7XG5cdHdpZHRoOiA4MHB4O1xuXHRoZWlnaHQ6IDgwcHg7XG5cdGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIG1hcmdpbjogMC41cmVtIDFyZW0gMC41cmVtIDByZW07XG59XG5cblxuaW9uLXRpdGxle1xuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRmb250LXNpemU6IDFyZW07XG59XG5cbi5pY29uLXN2Z3tcblx0aGVpZ2h0OiAyMnB4O1xufVxuXG5cbi5maWx0ZXJze1xuXHRtYXJnaW4tYm90dG9tOiAxcmVtO1xufVxuXG4ubm90LWZvdW5kLXJlY29yZHN7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogI2JkYmRiZDtcbn1cblxuLnN1Ymxpc3R7XG5cdC0taW9uLWJhY2tncm91bmQtY29sb3I6I2Y5ZjlmOTtcblxuXHRpb24tdGh1bWJuYWlse1xuXHRcdHdpZHRoOiA0MHB4O1xuXHRcdGhlaWdodDogNDBweDtcblx0XHRib3JkZXItcmFkaXVzOiA1MCU7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHRtYXJnaW46IDAuNXJlbSAxcmVtIDAuNXJlbSAxcmVtO1xuXHR9XG59IiwiaW9uLXRodW1ibmFpbCB7XG4gIHdpZHRoOiA4MHB4O1xuICBoZWlnaHQ6IDgwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luOiAwLjVyZW0gMXJlbSAwLjVyZW0gMHJlbTtcbn1cblxuaW9uLXRpdGxlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAxcmVtO1xufVxuXG4uaWNvbi1zdmcge1xuICBoZWlnaHQ6IDIycHg7XG59XG5cbi5maWx0ZXJzIHtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLm5vdC1mb3VuZC1yZWNvcmRzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogI2JkYmRiZDtcbn1cblxuLnN1Ymxpc3Qge1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNmOWY5Zjk7XG59XG4uc3VibGlzdCBpb24tdGh1bWJuYWlsIHtcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IDAuNXJlbSAxcmVtIDAuNXJlbSAxcmVtO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MainServicesService } from './../main-services.service';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-brands',\n  templateUrl: './brands.page.html',\n  styleUrls: ['./brands.page.scss'],\n})\nexport class BrandsPage implements OnInit {\n\n\tbrands = []\n  filter_brands;\n  categories;\n  filter_categories;\n  filter_name;\n\n  constructor(private service: MainServicesService, private router: Router, public alertController: AlertController) { \n    \n  }\n\n  ngOnInit() {\n    this.service.getBrands().subscribe( (data:any) => {\n      this.brands = data\n      this.filter_brands = this.brands;\n    })\n\n    this.service.getCategoriesBrand().subscribe( (data:any) => {\n      this.categories = data;\n    })\n  }\n\n  filterCategories(){\n    this.filter_brands = this.brands;\n\n    if(this.filter_categories.length > 0){\n      this.filter_brands = this.brands.filter( x => this.filter_categories.indexOf(x.brand_category_id.id) > -1);\n    }\n  }\n\n  filterName() {\n    this.filter_brands = this.brands;\n\n    if (this.filter_name.length > 0) {\n      this.filter_brands = this.brands.filter(x => {\n        const search = this.filter_name.toLowerCase();\n        const nameBrand = search.indexOf(x.name.toLowerCase()) > -1\n          || search.indexOf(x.description ? x.description.toLowerCase() : null) > -1;\n\n        if (nameBrand) {\n          return true;\n        }\n\n        const produts = x.products.filter(prd => {\n\n          const exist = prd.name.toLowerCase().indexOf(search) > -1\n          || (prd.reference ? prd.reference.toLowerCase().indexOf(search)  > -1 : false)\n              || (prd.description ? prd.description.toLowerCase().indexOf(search) > -1 : false);\n          \n\n          return exist;\n        });\n\n        return produts.length > 0;\n\n      });\n    }\n\n  }\n\n  async alertLogout(){\n    const alert = await this.alertController.create({\n      header: 'Cerrar sesión',\n      message: '¿Desea cerrar la sesión?',\n      buttons: [\n      {\n        text: 'Cancelar',\n        role: 'cancel',\n        cssClass: 'secondary',\n        \n      }, {\n        text: 'Aceptar',\n        handler: () => {\n          this.logout()\n        }\n      }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  logout(){\n    this.service.logOut().subscribe( data => {\n      sessionStorage.removeItem('session_id')\n      this.router.navigate(['/login'])\n    });\n  }\n\n\n}\n"],"sourceRoot":""}